<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Books registration</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
  </head>
  <body>
 

    <form action="/upload" method="POST" enctype="multipart/form-data">
      <label for="title">Titulo:</label>
      <input type="text" id="title" name="title" required />

      <label for="autor">autor:</label>
      <input type="text" id="autor" name="autor" required />

      <label for="description">Descripcion:</label>
      <input type="text" id="description" name="description" required />

      <label for="year">AÃ±o de publicacion:</label>
      <input
        type="number"
        id="year"
        name="year"
        min="1700"
        max="<%= new Date().getFullYear() %>"
        required
      />

      <label for="price">Precio:</label>
      <input
        type="number"
        id="price"
        name="price"
        min="0"
        max="10000"
        placeholder="$Precio"
        required
      />

      <label for="stock">Cantidad:</label>
      <input
        type="number"
        id="stock"
        name="stock"
        min="0"
        max="1000"
        required
      />

      <input
        type="file"
        id="fileInput"
        name="image"
        onchange="showPreview(event)"
      />
      <img
        id="preview"
        src=""
        alt="Vista previa de imagen"
        style="display: none"
        width="200"
      />

      <button type="submit">Guardar</button>
    </form>

    <script>
      function showPreview(event) {
        const file = event.target.files[0];
        const preview = document.getElementById("preview");
        const reader = new FileReader();
        reader.onload = function () {
          preview.src = reader.result;
          preview.style.display = "block";
          s;
        };
        if (file) {
          reader.readAsDataURL(file);
        } else {
          preview.src = "";
        }
      }
    </script>
  </body>
</html>